Î
DC:\Users\jaria304\source\repos\CRMLeadForm\DAL\ActiveDirectoryDAL.cs
	namespace 	
DAL
 
{ 
public		 

class		 
ActiveDirectoryDAL		 #
{

 
}22 
}33 ´4
;C:\Users\jaria304\source\repos\CRMLeadForm\DAL\ApiLogDAL.cs
	namespace 	
DAL
 
{ 
public 

class 
	ApiLogDAL 
{		 
public

 
CRMLeadObjects

 
.

 
DTO

 !
.

! "
StateResultSP

" /
CreateApiLog

0 <
(

< =
string

= C

httpMethod

D N
,

N O
string
 
request 
, 
string  
requestOperation! 1
,1 2
string3 9
requestBody: E
,E F
stringG M
hostN R
,R S
string
 
clientIp 
, 
string !

statusCode" ,
,, -
string. 4
response5 =
,= >
string? E

apiVersionF P
,P Q
string
 

customerID 
, 
string #
orderNumber$ /
,/ 0
string1 7
localSku8 @
,@ A
stringB H

controllerI S
,S T
string
 

cacheValue 
, 
string #
	exception$ -
,- .
Guid/ 3
	reference4 =
,= >
string? E
	userAgentF O
)O P
{ 	
using 
( 
SqlConnection  
Con! $
=% &
new' *
SqlConnection+ 8
(8 9 
ConfigurationManager9 M
.M N
ConnectionStringsN _
[_ `
$str` k
]k l
.l m
ConnectionStringm }
)} ~
)~ 
{ 
Con 
. 
Open 
( 
) 
; 
var 

parameters 
=  
new! $
DynamicParameters% 6
(6 7
)7 8
;8 9

parameters 
. 
Add 
( 
$str +
,+ ,

httpMethod- 7
)7 8
;8 9

parameters 
. 
Add 
( 
$str (
,( )
request* 1
)1 2
;2 3

parameters 
. 
Add 
( 
$str 1
,1 2
requestOperation3 C
)C D
;D E

parameters 
. 
Add 
( 
$str ,
,, -
requestBody. 9
)9 :
;: ;

parameters 
. 
Add 
( 
$str %
,% &
host' +
)+ ,
;, -

parameters 
. 
Add 
( 
$str )
,) *
clientIp+ 3
)3 4
;4 5

parameters 
. 
Add 
( 
$str +
,+ ,

statusCode- 7
)7 8
;8 9

parameters 
. 
Add 
( 
$str )
,) *
response+ 3
)3 4
;4 5

parameters 
. 
Add 
( 
$str +
,+ ,

apiVersion- 7
)7 8
;8 9

parameters 
. 
Add 
( 
$str +
,+ ,

customerID- 7
)7 8
;8 9

parameters   
.   
Add   
(   
$str   ,
,  , -
orderNumber  . 9
)  9 :
;  : ;

parameters!! 
.!! 
Add!! 
(!! 
$str!! )
,!!) *
localSku!!+ 3
)!!3 4
;!!4 5

parameters"" 
."" 
Add"" 
("" 
$str"" +
,""+ ,

controller""- 7
)""7 8
;""8 9

parameters## 
.## 
Add## 
(## 
$str## +
,##+ ,

cacheValue##- 7
)##7 8
;##8 9

parameters$$ 
.$$ 
Add$$ 
($$ 
$str$$ *
,$$* +
	exception$$, 5
)$$5 6
;$$6 7

parameters%% 
.%% 
Add%% 
(%% 
$str%% *
,%%* +
	reference%%, 5
)%%5 6
;%%6 7

parameters&& 
.&& 
Add&& 
(&& 
$str&& *
,&&* +
	userAgent&&, 5
)&&5 6
;&&6 7

parameters(( 
.(( 
Add(( 
((( 
$str(( (
,((( )
dbType((* 0
:((0 1
System((2 8
.((8 9
Data((9 =
.((= >
DbType((> D
.((D E
Boolean((E L
,((L M
	direction((N W
:((W X
System((Y _
.((_ `
Data((` d
.((d e
ParameterDirection((e w
.((w x
Output((x ~
)((~ 
;	(( Ä

parameters)) 
.)) 
Add)) 
()) 
$str)) '
,))' (
dbType))) /
:))/ 0
System))1 7
.))7 8
Data))8 <
.))< =
DbType))= C
.))C D
String))D J
,))J K
	direction))L U
:))U V
System))W ]
.))] ^
Data))^ b
.))b c
ParameterDirection))c u
.))u v
Output))v |
,))| }
size	))~ Ç
:
))Ç É
$num
))Ñ Ü
)
))Ü á
;
))á à
Con++ 
.++ 
Query++ 
(++ 
$str++ *
,++* +
param++, 1
:++1 2

parameters++3 =
,++= >
commandType++? J
:++J K
System++L R
.++R S
Data++S W
.++W X
CommandType++X c
.++c d
StoredProcedure++d s
)++s t
;++t u
return-- 
new-- 
CRMLeadObjects-- )
.--) *
DTO--* -
.--- .
StateResultSP--. ;
{.. 
Success// 
=// 

parameters// (
.//( )
Get//) ,
<//, -
bool//- 1
>//1 2
(//2 3
$str//3 =
)//= >
,//> ?
Message00 
=00 

parameters00 (
.00( )
Get00) ,
<00, -
string00- 3
>003 4
(004 5
$str005 >
)00> ?
}11 
;11 
}22 
}33 	
}44 
}55 πl
:C:\Users\jaria304\source\repos\CRMLeadForm\DAL\EmailDAL.cs
	namespace 	
DAL
 
{ 
public 

class 
EmailDAL 
{ 
public 
static 
void 
CreateEmailQueue +
(+ ,
long, 0
?0 1
RecordId2 :
,: ;
string< B
XlstNameC K
,K L
boolM Q
HasBeenSentStoreR b
,b c
stringd j
ApplicationNamek z
,z {
string	| Ç
RequestBody
É é
,
é è
string
ê ñ
EmailTo
ó û
,
û ü
string
† ¶
	EmailFrom
ß ∞
,
∞ ±
string
≤ ∏
Bcc
π º
,
º Ω
string
æ ƒ
EmailSubject
≈ —
,
— “
int
” ÷
?
÷ ◊
smtpId
ÿ ﬁ
,
ﬁ ﬂ
ref
‡ „
string
‰ Í
Rpt
Î Ó
,
Ó Ô
ref
 Û
bool
Ù ¯
?
¯ ˘
success
˙ Å
)
Å Ç
{ 	
using 
( 
SqlConnection  
Con! $
=% &
new' *
SqlConnection+ 8
(8 9 
ConfigurationManager9 M
.M N
ConnectionStringsN _
[_ `
$str` k
]k l
.l m
ConnectionStringm }
)} ~
)~ 
{ 
Con 
. 
Open 
( 
) 
; 
var 

parameters 
=  
new! $
DynamicParameters% 6
(6 7
)7 8
;8 9

parameters 
. 
Add 
( 
$str )
,) *
RecordId+ 3
)3 4
;4 5

parameters 
. 
Add 
( 
$str )
,) *
XlstName+ 3
)3 4
;4 5

parameters 
. 
Add 
( 
$str 1
,1 2
HasBeenSentStore3 C
)C D
;D E

parameters 
. 
Add 
( 
$str 0
,0 1
ApplicationName2 A
)A B
;B C

parameters 
. 
Add 
( 
$str ,
,, -
RequestBody. 9
)9 :
;: ;

parameters 
. 
Add 
( 
$str (
,( )
EmailTo* 1
)1 2
;2 3

parameters 
. 
Add 
( 
$str *
,* +
	EmailFrom, 5
)5 6
;6 7

parameters 
. 
Add 
( 
$str $
,$ %
Bcc& )
)) *
;* +

parameters   
.   
Add   
(   
$str   -
,  - .
EmailSubject  / ;
)  ; <
;  < =

parameters!! 
.!! 
Add!! 
(!! 
$str!! '
,!!' (
smtpId!!) /
)!!/ 0
;!!0 1

parameters## 
.## 
Add## 
(## 
$str## (
,##( )
dbType##* 0
:##0 1
System##2 8
.##8 9
Data##9 =
.##= >
DbType##> D
.##D E
Boolean##E L
,##L M
	direction##N W
:##W X
System##Y _
.##_ `
Data##` d
.##d e
ParameterDirection##e w
.##w x
Output##x ~
)##~ 
;	## Ä

parameters$$ 
.$$ 
Add$$ 
($$ 
$str$$ $
,$$$ %
dbType$$& ,
:$$, -
System$$. 4
.$$4 5
Data$$5 9
.$$9 :
DbType$$: @
.$$@ A
String$$A G
,$$G H
	direction$$I R
:$$R S
System$$T Z
.$$Z [
Data$$[ _
.$$_ `
ParameterDirection$$` r
.$$r s
Output$$s y
,$$y z
size$${ 
:	$$ Ä
$num
$$Å É
)
$$É Ñ
;
$$Ñ Ö
Con&& 
.&& 
Query&& 
(&& 
$str&& .
,&&. /
param&&0 5
:&&5 6

parameters&&7 A
,&&A B
commandType&&C N
:&&N O
System&&P V
.&&V W
Data&&W [
.&&[ \
CommandType&&\ g
.&&g h
StoredProcedure&&h w
)&&w x
;&&x y
success(( 
=(( 

parameters(( $
.(($ %
Get((% (
<((( )
bool(() -
>((- .
(((. /
$str((/ 9
)((9 :
;((: ;
Rpt)) 
=)) 

parameters))  
.))  !
Get))! $
<))$ %
string))% +
>))+ ,
()), -
$str))- 3
)))3 4
;))4 5
},, 
}.. 	
public00 
static00 
List00 
<00 
SmtpCredentialsDTO00 -
>00- .
GetSmtpCredentials00/ A
(00A B
int00B E
id00F H
)00H I
{11 	
using22 
(22 
SqlConnection22  
Con22! $
=22% &
new22' *
SqlConnection22+ 8
(228 9 
ConfigurationManager229 M
.22M N
ConnectionStrings22N _
[22_ `
$str22` k
]22k l
.22l m
ConnectionString22m }
)22} ~
)22~ 
{33 
Con44 
.44 
Open44 
(44 
)44 
;44 
List55 
<55 
SmtpCredentialsDTO55 '
>55' (
Res55) ,
=55- .
new55/ 2
List553 7
<557 8
SmtpCredentialsDTO558 J
>55J K
(55K L
)55L M
;55M N
var66 

parameters66 
=66  
new66! $
DynamicParameters66% 6
(666 7
)667 8
;668 9

parameters77 
.77 
Add77 
(77 
$str77 #
,77# $
id77% '
)77' (
;77( )
Res88 
=88 
Con88 
.88 
Query88 
<88  
SmtpCredentialsDTO88  2
>882 3
(99 
$str99 1
,991 2
param:: 
::: 

parameters:: %
,::% &
commandType;; 
:;;  
System;;! '
.;;' (
Data;;( ,
.;;, -
CommandType;;- 8
.;;8 9
StoredProcedure;;9 H
);;H I
.;;I J
ToList;;J P
(;;P Q
);;Q R
;;;R S
Con<< 
.<< 
Close<< 
(<< 
)<< 
;<< 
return== 
Res== 
;== 
}>> 
}?? 	
publicAA 
staticAA 
ListAA 
<AA 
	EmailInfoAA $
>AA$ %
GetEmailQueueAA& 3
(AA3 4
)AA4 5
{BB 	
usingCC 
(CC 
SqlConnectionCC  
ConCC! $
=CC% &
newCC' *
SqlConnectionCC+ 8
(CC8 9 
ConfigurationManagerCC9 M
.CCM N
ConnectionStringsCCN _
[CC_ `
$strCC` k
]CCk l
.CCl m
ConnectionStringCCm }
)CC} ~
)CC~ 
{DD 
ConEE 
.EE 
OpenEE 
(EE 
)EE 
;EE 
ListFF 
<FF 
	EmailInfoFF 
>FF 
ResFF  #
=FF$ %
newFF& )
ListFF* .
<FF. /
	EmailInfoFF/ 8
>FF8 9
(FF9 :
)FF: ;
;FF; <
varGG 

parametersGG 
=GG  
newGG! $
DynamicParametersGG% 6
(GG6 7
)GG7 8
;GG8 9
ResHH 
=HH 
ConHH 
.HH 
QueryHH 
<HH  
	EmailInfoHH  )
>HH) *
(II 
$strII ,
,II, -
paramJJ 
:JJ 

parametersJJ %
,JJ% &
commandTypeKK 
:KK  
SystemKK! '
.KK' (
DataKK( ,
.KK, -
CommandTypeKK- 8
.KK8 9
StoredProcedureKK9 H
)KKH I
.KKI J
ToListKKJ P
(KKP Q
)KKQ R
;KKR S
ConLL 
.LL 
CloseLL 
(LL 
)LL 
;LL 
returnMM 
ResMM 
;MM 
}NN 
}OO 	
publicQQ 
staticQQ 
StateResultSPQQ #
UpdateEmailQueueQQ$ 4
(QQ4 5
intQQ5 8
IdQQ9 ;
)QQ; <
{RR 	
usingSS 
(SS 
SqlConnectionSS  
ConSS! $
=SS% &
newSS' *
SqlConnectionSS+ 8
(SS8 9 
ConfigurationManagerSS9 M
.SSM N
ConnectionStringsSSN _
[SS_ `
$strSS` k
]SSk l
.SSl m
ConnectionStringSSm }
)SS} ~
)SS~ 
{TT 
ConUU 
.UU 
OpenUU 
(UU 
)UU 
;UU 
varVV 

parametersVV 
=VV  
newVV! $
DynamicParametersVV% 6
(VV6 7
)VV7 8
;VV8 9

parametersWW 
.WW 
AddWW 
(WW 
$strWW #
,WW# $
IdWW% '
)WW' (
;WW( )

parametersXX 
.XX 
AddXX 
(XX 
$strXX (
,XX( )
dbTypeXX* 0
:XX0 1
SystemXX2 8
.XX8 9
DataXX9 =
.XX= >
DbTypeXX> D
.XXD E
BooleanXXE L
,XXL M
	directionXXN W
:XXW X
SystemXXY _
.XX_ `
DataXX` d
.XXd e
ParameterDirectionXXe w
.XXw x
OutputXXx ~
)XX~ 
;	XX Ä

parametersYY 
.YY 
AddYY 
(YY 
$strYY $
,YY$ %
dbTypeYY& ,
:YY, -
SystemYY. 4
.YY4 5
DataYY5 9
.YY9 :
DbTypeYY: @
.YY@ A
StringYYA G
,YYG H
	directionYYI R
:YYR S
SystemYYT Z
.YYZ [
DataYY[ _
.YY_ `
ParameterDirectionYY` r
.YYr s
OutputYYs y
,YYy z
sizeYY{ 
:	YY Ä
$num
YYÅ É
)
YYÉ Ñ
;
YYÑ Ö
Con[[ 
.[[ 
Query[[ 
([[ 
$str[[ .
,[[. /
param[[0 5
:[[5 6

parameters[[7 A
,[[A B
commandType[[C N
:[[N O
System[[P V
.[[V W
Data[[W [
.[[[ \
CommandType[[\ g
.[[g h
StoredProcedure[[h w
)[[w x
;[[x y
return]] 
new]] 
StateResultSP]] (
{^^ 
Success__ 
=__ 

parameters__ (
.__( )
Get__) ,
<__, -
bool__- 1
>__1 2
(__2 3
$str__3 =
)__= >
,__> ?
Message`` 
=`` 

parameters`` (
.``( )
Get``) ,
<``, -
string``- 3
>``3 4
(``4 5
$str``5 ;
)``; <
}aa 
;aa 
}bb 
}cc 	
publicee 
staticee 
stringee 
getEmailCustomeree -
(ee- .
stringee. 4

CustomerIdee5 ?
)ee? @
{ff 	
usinggg 
(gg 
SqlConnectiongg  
Congg! $
=gg% &
newgg' *
SqlConnectiongg+ 8
(gg8 9 
ConfigurationManagergg9 M
.ggM N
ConnectionStringsggN _
[gg_ `
$strgg` k
]ggk l
.ggl m
ConnectionStringggm }
)gg} ~
)gg~ 
{hh 
Conii 
.ii 
Openii 
(ii 
)ii 
;ii 
varjj 

parametersjj 
=jj  
newjj! $
DynamicParametersjj% 6
(jj6 7
)jj7 8
;jj8 9

parameterskk 
.kk 
Addkk 
(kk 
$strkk +
,kk+ ,

CustomerIdkk- 7
)kk7 8
;kk8 9

parametersll 
.ll 
Addll 
(ll 
$strll &
,ll& '
dbTypell( .
:ll. /
Systemll0 6
.ll6 7
Datall7 ;
.ll; <
DbTypell< B
.llB C
StringllC I
,llI J
	directionllK T
:llT U
SystemllV \
.ll\ ]
Datall] a
.lla b
ParameterDirectionllb t
.llt u
Outputllu {
,ll{ |
size	ll} Å
:
llÅ Ç
$num
llÉ Ö
)
llÖ Ü
;
llÜ á
Conmm 
.mm 
Querymm 
(mm 
$strmm .
,mm. /
parammm0 5
:mm5 6

parametersmm7 A
,mmA B
commandTypemmC N
:mmN O
SystemmmP V
.mmV W
DatammW [
.mm[ \
CommandTypemm\ g
.mmg h
StoredProceduremmh w
)mmw x
;mmx y
returnnn 

parametersnn !
.nn! "
Getnn" %
<nn% &
stringnn& ,
>nn, -
(nn- .
$strnn. 5
)nn5 6
;nn6 7
}oo 
}pp 	
}rr 
}ss Á
9C:\Users\jaria304\source\repos\CRMLeadForm\DAL\LeadDAL.cs
	namespace 	
DAL
 
{ 
public 
static	 
class 
LeadDAL 
{ 
public 

static 
List 
< 
	OptionSet  
>  !
GetOptionSetAll" 1
(1 2
)2 3
{ 
StateResultSP 
stateResultSP !
=" #
new$ '
StateResultSP( 5
(5 6
)6 7
;7 8
using 
( 
SqlConnection 
Con 
=  
new! $
SqlConnection% 2
(2 3 
ConfigurationManager3 G
.G H
ConnectionStringsH Y
[Y Z
$strZ e
]e f
.f g
ConnectionStringg w
)w x
)x y
{ 
Con 
. 
Open 
( 
) 
; 
List 
< 
	OptionSet 
> 
Res 
= 
new !
List" &
<& '
	OptionSet' 0
>0 1
(1 2
)2 3
;3 4
Res 
= 
Con 
. 
Query 
< 
	OptionSet !
>! "
(	 

$str
  
,  !
param	 
: 
null 
, 
commandType	 
: 
System 
. 
Data !
.! "
CommandType" -
.- .
StoredProcedure. =
)= >
.> ?
ToList? E
(E F
)F G
;G H
Con   
.   
Close   
(   
)   
;   
return!! 
Res!! 
;!! 
}"" 
}## 
public%% 

static%% 
List%% 
<%% 
	OptionSet%%  
>%%  !
GetOptionSetByName%%" 4
(%%4 5
string%%5 ;
name%%< @
)%%@ A
{&& 
StateResultSP'' 
stateResultSP'' !
=''" #
new''$ '
StateResultSP''( 5
(''5 6
)''6 7
;''7 8
using(( 
((( 
SqlConnection(( 
Con(( 
=((  
new((! $
SqlConnection((% 2
(((2 3 
ConfigurationManager((3 G
.((G H
ConnectionStrings((H Y
[((Y Z
$str((Z e
]((e f
.((f g
ConnectionString((g w
)((w x
)((x y
{)) 
Con** 
.** 
Open** 
(** 
)** 
;** 
var++ 

parameters++ 
=++ 
new++ 
DynamicParameters++ .
(++. /
)++/ 0
;++0 1

parameters,, 
.,, 
Add,, 
(,, 
$str,, $
,,,$ %
name,,& *
),,* +
;,,+ ,
List-- 
<-- 
	OptionSet-- 
>-- 
Res-- 
=-- 
new-- !
List--" &
<--& '
	OptionSet--' 0
>--0 1
(--1 2
)--2 3
;--3 4
Res// 
=// 
Con// 
.// 
Query// 
<// 
	OptionSet// !
>//! "
(00	 

$str00
 &
,00& '
param11	 
:11 

parameters11 
,11 
commandType22	 
:22 
System22 
.22 
Data22 !
.22! "
CommandType22" -
.22- .
StoredProcedure22. =
)22= >
.22> ?
ToList22? E
(22E F
)22F G
;22G H
Con44 
.44 
Close44 
(44 
)44 
;44 
return55 
Res55 
;55 
}66 
}77 
}99 
}:: ‚N
KC:\Users\jaria304\source\repos\CRMLeadForm\DAL\Leads\ValidateCodeLeadDAL.cs
	namespace 	
DAL
 
. 
Leads 
{ 
public 
class	 
ValidateCodeLeadDAL "
{ 
public 

static 
StateResultSP 
CreateEmailCode  /
(/ 0
	EmailCode0 9
	emailcode: C
)C D
{ 
StateResultSP 
stateResultSP !
=" #
new$ '
StateResultSP( 5
(5 6
)6 7
;7 8
using 
( 
SqlConnection 
Con 
=  
new! $
SqlConnection% 2
(2 3 
ConfigurationManager3 G
.G H
ConnectionStringsH Y
[Y Z
$strZ e
]e f
.f g
ConnectionStringg w
)w x
)x y
{ 
Con 
. 
Open 
( 
) 
; 
var 

parameters 
= 
new 
DynamicParameters .
(. /
)/ 0
;0 1

parameters 
. 
Add 
( 
$str 
, 
	emailcode  )
.) *
Email* /
)/ 0
;0 1

parameters 
. 
Add 
( 
$str -
,- .
	emailcode/ 8
.8 9 
VisibleGeneratedCode9 M
)M N
;N O

parameters 
. 
Add 
( 
$str ,
,, -
	emailcode. 7
.7 8
HiddenGeneratedCode8 K
)K L
;L M

parameters 
. 
Add 
( 
$str &
,& '
	emailcode( 1
.1 2
Language2 :
): ;
;; <

parameters 
. 
Add 
( 
$str %
,% &
	emailcode' 0
.0 1
ValidityTime1 =
)= >
;> ?

parameters 
. 
Add 
( 
$str  
,  !
dbType" (
:( )
System* 0
.0 1
Data1 5
.5 6
DbType6 <
.< =
Boolean= D
,D E
	directionF O
:O P
SystemQ W
.W X
DataX \
.\ ]
ParameterDirection] o
.o p
Outputp v
)v w
;w x

parameters   
.   
Add   
(   
$str    
,    !
dbType  " (
:  ( )
System  * 0
.  0 1
Data  1 5
.  5 6
DbType  6 <
.  < =
String  = C
,  C D
	direction  E N
:  N O
System  P V
.  V W
Data  W [
.  [ \
ParameterDirection  \ n
.  n o
Output  o u
,  u v
size  w {
:  { |
$num  } 
)	   Ä
;
  Ä Å
Con"" 
."" 
Query"" 
("" 
$str"" +
,""+ ,
param""- 2
:""2 3

parameters""4 >
,""> ?
commandType""@ K
:""K L
System""M S
.""S T
Data""T X
.""X Y
CommandType""Y d
.""d e
StoredProcedure""e t
,""t u
buffered""v ~
:""~ 
true
""Ä Ñ
,
""Ñ Ö
commandTimeout
""Ü î
:
""î ï
$num
""ñ ô
)
""ô ö
;
""ö õ
stateResultSP$$ 
.$$ 
Success$$ 
=$$ 

parameters$$  *
.$$* +
Get$$+ .
<$$. /
bool$$/ 3
>$$3 4
($$4 5
$str$$5 ?
)$$? @
;$$@ A
stateResultSP%% 
.%% 
Message%% 
=%% 

parameters%%  *
.%%* +
Get%%+ .
<%%. /
string%%/ 5
>%%5 6
(%%6 7
$str%%7 A
)%%A B
;%%B C
Con&& 
.&& 
Close&& 
(&& 
)&& 
;&& 
}'' 
return(( 
stateResultSP(( 
;(( 
})) 
public++ 

static++ 
	EmailCode++ 
GetEmailCode++ (
(++( )
Guid++) -
HiddenGeneratedCode++. A
)++A B
{,, 
using-- 
(-- 
SqlConnection-- 
Con-- 
=--  
new--! $
SqlConnection--% 2
(--2 3 
ConfigurationManager--3 G
.--G H
ConnectionStrings--H Y
[--Y Z
$str--Z e
]--e f
.--f g
ConnectionString--g w
)--w x
)--x y
{.. 
Con// 
.// 
Open// 
(// 
)// 
;// 
var11 

parameters11 
=11 
new11 
DynamicParameters11 .
(11. /
)11/ 0
;110 1

parameters33 
.33 
Add33 
(33 
$str33 ,
,33, -
HiddenGeneratedCode33. A
)33A B
;33B C
var55 
objEmailCode55 
=55 
Con55 
.55 
Query55 $
<55$ %
	EmailCode55% .
>55. /
(66 
$str66 #
,66# $
param77 
:77 

parameters77 
,77 
commandType88 
:88 
System88 
.88  
Data88  $
.88$ %
CommandType88% 0
.880 1
StoredProcedure881 @
)88@ A
.88A B
ToList88B H
(88H I
)88I J
;88J K
Con:: 
.:: 
Close:: 
(:: 
):: 
;:: 
return<< 
objEmailCode<< 
.<< 
FirstOrDefault<< *
(<<* +
)<<+ ,
;<<, -
}== 
}>> 
public@@ 

static@@ 
StateResultSP@@ 
ComfirmCodeLead@@  /
(@@/ 0
	EmailCode@@0 9
objEmailCode@@: F
)@@F G
{AA 
usingBB 
(BB 
SqlConnectionBB 
ConBB 
=BB  
newBB! $
SqlConnectionBB% 2
(BB2 3 
ConfigurationManagerBB3 G
.BBG H
ConnectionStringsBBH Y
[BBY Z
$strBBZ e
]BBe f
.BBf g
ConnectionStringBBg w
)BBw x
)BBx y
{CC 
StateResultSPDD 
stateResultSPDD #
=DD$ %
newDD& )
StateResultSPDD* 7
(DD7 8
)DD8 9
;DD9 :
ConEE 
.EE 
OpenEE 
(EE 
)EE 
;EE 
varFF 

parametersFF 
=FF 
newFF 
DynamicParametersFF .
(FF. /
)FF/ 0
;FF0 1

parametersHH 
.HH 
AddHH 
(HH 
$strHH 
,HH 
objEmailCodeHH  ,
.HH, -
EmailHH- 2
)HH2 3
;HH3 4

parametersII 
.II 
AddII 
(II 
$strII -
,II- .
objEmailCodeII/ ;
.II; < 
VisibleGeneratedCodeII< P
)IIP Q
;IIQ R

parametersJJ 
.JJ 
AddJJ 
(JJ 
$strJJ ,
,JJ, -
objEmailCodeJJ. :
.JJ: ;
HiddenGeneratedCodeJJ; N
)JJN O
;JJO P

parametersKK 
.KK 
AddKK 
(KK 
$strKK  
,KK  !
dbTypeKK" (
:KK( )
SystemKK* 0
.KK0 1
DataKK1 5
.KK5 6
DbTypeKK6 <
.KK< =
BooleanKK= D
,KKD E
	directionKKF O
:KKO P
SystemKKQ W
.KKW X
DataKKX \
.KK\ ]
ParameterDirectionKK] o
.KKo p
OutputKKp v
)KKv w
;KKw x

parametersLL 
.LL 
AddLL 
(LL 
$strLL  
,LL  !
dbTypeLL" (
:LL( )
SystemLL* 0
.LL0 1
DataLL1 5
.LL5 6
DbTypeLL6 <
.LL< =
StringLL= C
,LLC D
	directionLLE N
:LLN O
SystemLLP V
.LLV W
DataLLW [
.LL[ \
ParameterDirectionLL\ n
.LLn o
OutputLLo u
,LLu v
sizeLLw {
:LL{ |
$numLL} 
)	LL Ä
;
LLÄ Å
ConNN 
.NN 
QueryNN 
(NN 
$strNN +
,NN+ ,
paramNN- 2
:NN2 3

parametersNN4 >
,NN> ?
commandTypeNN@ K
:NNK L
SystemNNM S
.NNS T
DataNNT X
.NNX Y
CommandTypeNNY d
.NNd e
StoredProcedureNNe t
,NNt u
bufferedNNv ~
:NN~ 
true
NNÄ Ñ
,
NNÑ Ö
commandTimeout
NNÜ î
:
NNî ï
$num
NNñ ô
)
NNô ö
;
NNö õ
stateResultSPPP 
.PP 
SuccessPP 
=PP 

parametersPP  *
.PP* +
GetPP+ .
<PP. /
boolPP/ 3
>PP3 4
(PP4 5
$strPP5 ?
)PP? @
;PP@ A
stateResultSPQQ 
.QQ 
MessageQQ 
=QQ 

parametersQQ  *
.QQ* +
GetQQ+ .
<QQ. /
stringQQ/ 5
>QQ5 6
(QQ6 7
$strQQ7 A
)QQA B
;QQB C
ConRR 
.RR 
CloseRR 
(RR 
)RR 
;RR 
returnTT 
stateResultSPTT 
;TT 
}UU 
}WW 
}YY 
}ZZ ˜
RC:\Users\jaria304\source\repos\CRMLeadForm\DAL\NavigationMenu\NavigationMenuDAL.cs
	namespace 	
DAL
 
. 
NavigationMenuDAL 
{ 
public 
class	 
NavigationMenuDAL  
{ 
public 

SPQueryResult 
< 
NavigationMenu '
>' (
GetNavigationMenu) :
(: ;
MenuType; C
menuTypeD L
)L M
{ 
using 
( 
SqlConnection 
Con 
=  
new! $
SqlConnection% 2
(2 3 
ConfigurationManager3 G
.G H
ConnectionStringsH Y
[Y Z
$strZ e
]e f
.f g
ConnectionStringg w
)w x
)x y
{ 
Con 
. 
Open 
( 
) 
; 
SPQueryResult 
< 
NavigationMenu $
>$ %
Res& )
=* +
new, /
SPQueryResult0 =
<= >
NavigationMenu> L
>L M
(M N
)N O
;O P
var 

parameters 
= 
new 
DynamicParameters .
(. /
)/ 0
;0 1

parameters 
. 
Add 
( 
$str !
,! "
menuType# +
.+ ,
ToString, 4
(4 5
)5 6
)6 7
;7 8
Res 
. 
ListResults 
= 
Con 
. 
Query #
<# $
NavigationMenu$ 2
>2 3
( 
$str %
,% &
param 
: 

parameters 
, 
commandType 
: 
System 
.  
Data  $
.$ %
CommandType% 0
.0 1
StoredProcedure1 @
)@ A
.A B
ToListB H
(H I
)I J
;J K
Res 
. 
TotalResults 
= 
Res 
. 
ListResults *
.* +
Count+ 0
;0 1
Con 
. 
Close 
( 
) 
; 
return 
Res 
; 
}   
}"" 
}## 
}$$ „
HC:\Users\jaria304\source\repos\CRMLeadForm\DAL\Processes\ProcessesDAL.cs
	namespace 	
DAL
 
. 
	Processes 
{ 
public 
static	 
class 
ProcessesDAL "
{ 
public 

static 
void 
CreateProcesses &
(& '
string' -
Description. 9
)9 :
{ 
var 	
queryComplete
 
= 
$str I
+J K
DescriptionL W
+X Y
$strZ ^
;^ _
using 
( 
SqlConnection 
Con 
=  
new! $
SqlConnection% 2
(2 3 
ConfigurationManager3 G
.G H
ConnectionStringsH Y
[Y Z
$strZ e
]e f
.f g
ConnectionStringg w
)w x
)x y
{ 
Con 
. 
Open 
( 
) 
; 
SPQueryResult 
< 
string 
> 
res !
=" #
new$ '
SPQueryResult( 5
<5 6
string6 <
>< =
(= >
)> ?
;? @
Con 
. 
Query 
( 
queryComplete 
)  
;  !
Con 
. 
Close 
( 
) 
; 
} 
} 
public 

static 
void $
ConsultarProcoPorCliente /
(/ 0
string0 6

CustomerId7 A
)A B
{ 
var 	
queryComplete
 
= 
$str
 R
;R S
using   
(   
SqlConnection   
Con   
=    
new  ! $
SqlConnection  % 2
(  2 3 
ConfigurationManager  3 G
.  G H
ConnectionStrings  H Y
[  Y Z
$str  Z e
]  e f
.  f g
ConnectionString  g w
)  w x
)  x y
{!! 
Con"" 
."" 
Open"" 
("" 
)"" 
;"" 
var## 
	respuesta## 
=## 
Con## 
.## 
Query## !
<##! "
string##" (
>##( )
(##) *
queryComplete##* 7
,##7 8
param##9 >
:##> ?
new##@ C
{##D E

CustomerId##F P
=##Q R

CustomerId##S ]
}##^ _
)##_ `
.##` a
ToList##a g
(##g h
)##h i
;##i j
Con$$ 
.$$ 
Close$$ 
($$ 
)$$ 
;$$ 
}&& 
}'' 
}(( 
})) Ù
IC:\Users\jaria304\source\repos\CRMLeadForm\DAL\Properties\AssemblyInfo.cs
[ 
assembly 	
:	 

AssemblyTitle 
( 
$str 
) 
]  
[		 
assembly		 	
:			 

AssemblyDescription		 
(		 
$str		 !
)		! "
]		" #
[

 
assembly

 	
:

	 
!
AssemblyConfiguration

  
(

  !
$str

! #
)

# $
]

$ %
[ 
assembly 	
:	 

AssemblyCompany 
( 
$str 
) 
] 
[ 
assembly 	
:	 

AssemblyProduct 
( 
$str  
)  !
]! "
[ 
assembly 	
:	 

AssemblyCopyright 
( 
$str 0
)0 1
]1 2
[ 
assembly 	
:	 

AssemblyTrademark 
( 
$str 
)  
]  !
[ 
assembly 	
:	 

AssemblyCulture 
( 
$str 
) 
] 
[ 
assembly 	
:	 


ComVisible 
( 
false 
) 
] 
[ 
assembly 	
:	 

Guid 
( 
$str 6
)6 7
]7 8
[## 
assembly## 	
:##	 

AssemblyVersion## 
(## 
$str## $
)##$ %
]##% &
[$$ 
assembly$$ 	
:$$	 

AssemblyFileVersion$$ 
($$ 
$str$$ (
)$$( )
]$$) *∞/
@C:\Users\jaria304\source\repos\CRMLeadForm\DAL\RestCallLogDAL.cs
	namespace 	
DAL
 
{ 
public 
static	 
class 
RestCallLogDAL $
{ 
public 

static 
void 
CreateCallLog $
($ %
RestCallLog% 0
objRestCallLog1 ?
,? @
refA D
stringE K
RptL O
,O P
refQ T
boolU Y
?Y Z
success[ b
)b c
{ 
using 
( 
SqlConnection 
Con 
=  
new! $
SqlConnection% 2
(2 3 
ConfigurationManager3 G
.G H
ConnectionStringsH Y
[Y Z
$strZ e
]e f
.f g
ConnectionStringg w
)w x
)x y
{ 
Con 
. 
Open 
( 
) 
; 
var 

parameters 
= 
new 
DynamicParameters .
(. /
)/ 0
;0 1

parameters 
. 
Add 
( 
$str $
,$ %
objRestCallLog& 4
.4 5
RestService5 @
)@ A
;A B

parameters 
. 
Add 
( 
$str )
,) *
objRestCallLog+ 9
.9 :
RelatedIwsCallId: J
)J K
;K L

parameters 
. 
Add 
( 
$str 
, 
objRestCallLog -
.- .
Host. 2
)2 3
;3 4

parameters 
. 
Add 
( 
$str !
,! "
objRestCallLog# 1
.1 2
ClientIp2 :
): ;
;; <

parameters 
. 
Add 
( 
$str #
,# $
objRestCallLog% 3
.3 4

HttpMethod4 >
)> ?
;? @

parameters 
. 
Add 
( 
$str  
,  !
objRestCallLog" 0
.0 1
Request1 8
)8 9
;9 :

parameters 
. 
Add 
( 
$str '
,' (
objRestCallLog) 7
.7 8
RequestHeaders8 F
)F G
;G H

parameters 
. 
Add 
( 
$str $
,$ %
objRestCallLog& 4
.4 5
RequestBody5 @
)@ A
;A B

parameters 
. 
Add 
( 
$str "
," #
objRestCallLog$ 2
.2 3
Success3 :
): ;
;; <

parameters   
.   
Add   
(   
$str   +
,  + ,
objRestCallLog  - ;
.  ; <
ResponseStatusCode  < N
)  N O
;  O P

parameters!! 
.!! 
Add!! 
(!! 
$str!! !
,!!! "
objRestCallLog!!# 1
.!!1 2
Response!!2 :
)!!: ;
;!!; <

parameters"" 
."" 
Add"" 
("" 
$str"" '
,""' (
objRestCallLog"") 7
.""7 8
StartTimeStamp""8 F
)""F G
;""G H

parameters## 
.## 
Add## 
(## 
$str## %
,##% &
objRestCallLog##' 5
.##5 6
EndTimeStamp##6 B
)##B C
;##C D

parameters$$ 
.$$ 
Add$$ 
($$ 
$str$$ $
,$$$ %
objRestCallLog$$& 4
.$$4 5
ElapsedTime$$5 @
)$$@ A
;$$A B

parameters%% 
.%% 
Add%% 
(%% 
$str%% "
,%%" #
objRestCallLog%%$ 2
.%%2 3
	CompanyId%%3 <
)%%< =
;%%= >

parameters)) 
.)) 
Add)) 
()) 
$str))  
,))  !
dbType))" (
:))( )
System))* 0
.))0 1
Data))1 5
.))5 6
DbType))6 <
.))< =
Boolean))= D
,))D E
	direction))F O
:))O P
System))Q W
.))W X
Data))X \
.))\ ]
ParameterDirection))] o
.))o p
Output))p v
)))v w
;))w x

parameters** 
.** 
Add** 
(** 
$str** 
,** 
dbType** $
:**$ %
System**& ,
.**, -
Data**- 1
.**1 2
DbType**2 8
.**8 9
String**9 ?
,**? @
	direction**A J
:**J K
System**L R
.**R S
Data**S W
.**W X
ParameterDirection**X j
.**j k
Output**k q
,**q r
size**s w
:**w x
$num**y {
)**{ |
;**| }
Con,, 
.,, 
Query,, 
(,, 
$str,, '
,,,' (
param,,) .
:,,. /

parameters,,0 :
,,,: ;
commandType,,< G
:,,G H
System,,I O
.,,O P
Data,,P T
.,,T U
CommandType,,U `
.,,` a
StoredProcedure,,a p
),,p q
;,,q r
success.. 
=.. 

parameters.. 
... 
Get..  
<..  !
bool..! %
>..% &
(..& '
$str..' 1
)..1 2
;..2 3
Rpt// 
=// 

parameters// 
.// 
Get// 
<// 
string// #
>//# $
(//$ %
$str//% +
)//+ ,
;//, -
}22 
}44 
}55 
}66 Æê
VC:\Users\jaria304\source\repos\CRMLeadForm\DAL\SettingsCustomer\SettingsCustomerDAL.cs
	namespace 	
DAL
 
. 
SettingsCustomer 
{ 
public 
class	 
SettingsCustomerDAL "
{ 
public 

CRMLeadObjects 
. 
DTO 
. 
	IWSPortal '
.' (
SPQueryResult( 5
<5 6
CRMLeadObjects6 D
.D E
DTOE H
.H I
	IWSPortalI R
.R S
SettingsCustomerS c
.c d
ProfileCustomerd s
>s t
GetCustomerById	u Ñ
(
Ñ Ö
string
Ö ã
customerById
å ò
,
ò ô
string
ö †
	SettingId
° ™
)
™ ´
{ 
using 
( 
SqlConnection 
Con 
=  
new! $
SqlConnection% 2
(2 3 
ConfigurationManager3 G
.G H
ConnectionStringsH Y
[Y Z
$strZ e
]e f
.f g
ConnectionStringg w
)w x
)x y
{ 
Con 
. 
Open 
( 
) 
; 
CRMLeadObjects 
. 
DTO "
." #
	IWSPortal# ,
., -
SPQueryResult- :
<: ;
CRMLeadObjects; I
.I J
DTOJ M
.M N
	IWSPortalN W
.W X
SettingsCustomerX h
.h i
ProfileCustomeri x
>x y
Resz }
= 
new 
SPQueryResult '
<' (
CRMLeadObjects( 6
.6 7
DTO7 :
.: ;
	IWSPortal; D
.D E
SettingsCustomerE U
.U V
ProfileCustomerV e
>e f
(f g
)g h
;h i
var 

parameters 
= 
new 
DynamicParameters .
(. /
)/ 0
;0 1

parameters 
. 
Add 
( 
$str #
,# $
customerById% 1
)1 2
;2 3

parameters 
. 
Add 
( 
$str "
," #
	SettingId$ -
)- .
;. /
Res 
. 
ListResults 
= 
Con 
. 
Query #
<# $
CRMLeadObjects$ 2
.2 3
DTO3 6
.6 7
	IWSPortal7 @
.@ A
SettingsCustomerA Q
.Q R
ProfileCustomerR a
>a b
( 
$str  
,  !
param 
: 

parameters 
, 
commandType 
: 
System 
.  
Data  $
.$ %
CommandType% 0
.0 1
StoredProcedure1 @
)@ A
.A B
ToListB H
(H I
)I J
;J K
Res   
.   
TotalResults   
=   
Res   
.   
ListResults   *
.  * +
Count  + 0
;  0 1
Con!! 
.!! 
Close!! 
(!! 
)!! 
;!! 
return"" 
Res"" 
;"" 
}## 
}%% 
public'' 

CRMLeadObjects'' 
.'' 
DTO'' 
.'' 
StateResultSP'' +
UpdateToken'', 7
(''7 8
Guid''8 <
token''= B
,''B C
string''D J

customerId''K U
,''U V
	TypeToken''W `
	typeToken''a j
)''j k
{(( 
using)) 
()) 
SqlConnection)) 
Con)) 
=))  
new))! $
SqlConnection))% 2
())2 3 
ConfigurationManager))3 G
.))G H
ConnectionStrings))H Y
[))Y Z
$str))Z e
]))e f
.))f g
ConnectionString))g w
)))w x
)))x y
{** 
Con++ 
.++ 
Open++ 
(++ 
)++ 
;++ 
var,, 

parameters,, 
=,, 
new,, 
DynamicParameters,, .
(,,. /
),,/ 0
;,,0 1

parameters-- 
.-- 
Add-- 
(-- 
$str-- #
,--# $

customerId--% /
)--/ 0
;--0 1

parameters.. 
... 
Add.. 
(.. 
$str..  
,..  !
dbType.." (
:..( )
System..* 0
...0 1
Data..1 5
...5 6
DbType..6 <
...< =
Boolean..= D
,..D E
	direction..F O
:..O P
System..Q W
...W X
Data..X \
...\ ]
ParameterDirection..] o
...o p
Output..p v
)..v w
;..w x

parameters// 
.// 
Add// 
(// 
$str//  
,//  !
dbType//" (
://( )
System//* 0
.//0 1
Data//1 5
.//5 6
DbType//6 <
.//< =
String//= C
,//C D
	direction//E N
://N O
System//P V
.//V W
Data//W [
.//[ \
ParameterDirection//\ n
.//n o
Output//o u
,//u v
size//w {
://{ |
$num//} 
)	// Ä
;
//Ä Å
if11 

(11 
	typeToken11 
==11 
	TypeToken11 "
.11" #
ApiToken11# +
)11+ ,

parameters22
 
.22 
Add22 
(22 
$str22 !
,22! "
token22# (
.22( )
ToString22) 1
(221 2
)222 3
)223 4
;224 5
else33 

parameters44
 
.44 
Add44 
(44 
$str44 $
,44$ %
token44& +
)44+ ,
;44, -
Con66 
.66 
Query66 
(66 
$str66 )
,66) *
param66+ 0
:660 1

parameters662 <
,66< =
commandType66> I
:66I J
System66K Q
.66Q R
Data66R V
.66V W
CommandType66W b
.66b c
StoredProcedure66c r
)66r s
;66s t
return88 
new88 
CRMLeadObjects88 !
.88! "
DTO88" %
.88% &
StateResultSP88& 3
{99 	
Success::
 
=:: 

parameters:: 
.:: 
Get:: "
<::" #
bool::# '
>::' (
(::( )
$str::) 3
)::3 4
,::4 5
Message;;
 
=;; 

parameters;; 
.;; 
Get;; "
<;;" #
string;;# )
>;;) *
(;;* +
$str;;+ 5
);;5 6
}<< 	
;<<	 

}== 
}>> 
public@@ 

SPQueryResult@@ 
<@@ 
CRMLeadObjects@@ '
.@@' (
DTO@@( +
.@@+ ,
	IWSPortal@@, 5
.@@5 6
SettingsOptions@@6 E
.@@E F
SettingsOptionModel@@F Y
>@@Y Z"
GetSettingsOptionsById@@[ q
(@@q r
string@@r x
id@@y {
)@@{ |
{AA 
usingBB 
(BB 
SqlConnectionBB 
ConBB 
=BB  
newBB! $
SqlConnectionBB% 2
(BB2 3 
ConfigurationManagerBB3 G
.BBG H
ConnectionStringsBBH Y
[BBY Z
$strBBZ e
]BBe f
.BBf g
ConnectionStringBBg w
)BBw x
)BBx y
{CC 
ConDD 
.DD 
OpenDD 
(DD 
)DD 
;DD 
SPQueryResultEE 
<EE 
CRMLeadObjectsEE $
.EE$ %
DTOEE% (
.EE( )
	IWSPortalEE) 2
.EE2 3
SettingsOptionsEE3 B
.EEB C
SettingsOptionModelEEC V
>EEV W
ResEEX [
=EE\ ]
newEE^ a
SPQueryResultEEb o
<EEo p
CRMLeadObjectsEEp ~
.EE~ 
DTO	EE Ç
.
EEÇ É
	IWSPortal
EEÉ å
.
EEå ç
SettingsOptions
EEç ú
.
EEú ù!
SettingsOptionModel
EEù ∞
>
EE∞ ±
(
EE± ≤
)
EE≤ ≥
;
EE≥ ¥
varFF 

parametersFF 
=FF 
newFF 
DynamicParametersFF .
(FF. /
)FF/ 0
;FF0 1

parametersGG 
.GG 
AddGG 
(GG 
$strGG 
,GG 
idGG 
)GG  
;GG  !
ResII 
.II 
ListResultsII 
=II 
ConII 
.II 
QueryII #
<II# $
CRMLeadObjectsII$ 2
.II2 3
DTOII3 6
.II6 7
	IWSPortalII7 @
.II@ A
SettingsOptionsIIA P
.IIP Q
SettingsOptionModelIIQ d
>IId e
(JJ 
$strJJ '
,JJ' (
paramKK 
:KK 

parametersKK 
,KK 
commandTypeLL 
:LL 
SystemLL 
.LL  
DataLL  $
.LL$ %
CommandTypeLL% 0
.LL0 1
StoredProcedureLL1 @
)LL@ A
.LLA B
ToListLLB H
(LLH I
)LLI J
;LLJ K
ResMM 
.MM 
TotalResultsMM 
=MM 
ResMM 
.MM 
ListResultsMM *
.MM* +
CountMM+ 0
;MM0 1
ConNN 
.NN 
CloseNN 
(NN 
)NN 
;NN 
returnOO 
ResOO 
;OO 
}PP 
}QQ 
publicSS 

CRMLeadObjectsSS 
.SS 
DTOSS 
.SS 
StateResultSPSS +"
UpdateCustomerSettingsSS, B
(SSB C
CRMLeadObjectsSSC Q
.SSQ R
DTOSSR U
.SSU V
	IWSPortalSSV _
.SS_ `
SettingsCustomerSS` p
.SSp q"
CustomerSettingsModel	SSq Ü
customerSettings
SSá ó
)
SSò ô
{TT 
usingUU 
(UU 
SqlConnectionUU 
ConUU 
=UU  
newUU! $
SqlConnectionUU% 2
(UU2 3 
ConfigurationManagerUU3 G
.UUG H
ConnectionStringsUUH Y
[UUY Z
$strUUZ e
]UUe f
.UUf g
ConnectionStringUUg w
)UUw x
)UUx y
{VV 
ConWW 
.WW 
OpenWW 
(WW 
)WW 
;WW 
varXX 

parametersXX 
=XX 
newXX 
DynamicParametersXX .
(XX. /
)XX/ 0
;XX0 1

parametersYY 
.YY 
AddYY 
(YY 
$strYY #
,YY# $
customerSettingsYY% 5
.YY5 6

CustomerIdYY6 @
)YY@ A
;YYA B

parametersZZ 
.ZZ 
AddZZ 
(ZZ 
$strZZ "
,ZZ" #
customerSettingsZZ$ 4
.ZZ4 5
	SettingIdZZ5 >
)ZZ> ?
;ZZ? @

parameters[[ 
.[[ 
Add[[ 
([[ 
$str[[ "
,[[" #
customerSettings[[$ 4
.[[4 5
	UpdatedBy[[5 >
)[[> ?
;[[? @

parameters\\ 
.\\ 
Add\\ 
(\\ 
$str\\ 
,\\ 
customerSettings\\  0
.\\0 1
Value\\1 6
)\\6 7
;\\7 8

parameters]] 
.]] 
Add]] 
(]] 
$str]]  
,]]  !
dbType]]" (
:]]( )
System]]* 0
.]]0 1
Data]]1 5
.]]5 6
DbType]]6 <
.]]< =
Boolean]]= D
,]]D E
	direction]]F O
:]]O P
System]]Q W
.]]W X
Data]]X \
.]]\ ]
ParameterDirection]]] o
.]]o p
Output]]p v
)]]v w
;]]w x

parameters^^ 
.^^ 
Add^^ 
(^^ 
$str^^  
,^^  !
dbType^^" (
:^^( )
System^^* 0
.^^0 1
Data^^1 5
.^^5 6
DbType^^6 <
.^^< =
String^^= C
,^^C D
	direction^^E N
:^^N O
System^^P V
.^^V W
Data^^W [
.^^[ \
ParameterDirection^^\ n
.^^n o
Output^^o u
,^^u v
size^^w {
:^^{ |
$num^^} 
)	^^ Ä
;
^^Ä Å
Con`` 
.`` 
Query`` 
(`` 
$str`` ,
,``, -
param``. 3
:``3 4

parameters``5 ?
,``? @
commandType``A L
:``L M
System``N T
.``T U
Data``U Y
.``Y Z
CommandType``Z e
.``e f
StoredProcedure``f u
)``u v
;``v w
returnbb 
newbb 
CRMLeadObjectsbb !
.bb! "
DTObb" %
.bb% &
StateResultSPbb& 3
{cc 	
Successdd
 
=dd 

parametersdd 
.dd 
Getdd "
<dd" #
booldd# '
>dd' (
(dd( )
$strdd) 3
)dd3 4
,dd4 5
Messageee
 
=ee 

parametersee 
.ee 
Getee "
<ee" #
stringee# )
>ee) *
(ee* +
$stree+ 5
)ee5 6
}ff 	
;ff	 

}gg 
}hh 
publicjj 

SPQueryResultjj 
<jj 
CRMLeadObjectsjj '
.jj' (
DTOjj( +
.jj+ ,
	IWSPortaljj, 5
.jj5 6
SettingsCustomerjj6 F
.jjF G!
CustomerSettingsModeljjG \
>jj\ ]
GetCustomerSettingsjj^ q
(jjq r
stringjjr x
customerById	jjy Ö
,
jjÖ Ü
string
jjá ç
	SettingId
jjé ó
)
jjó ò
{kk 
SPQueryResultll 
<ll 
CRMLeadObjectsll "
.ll" #
DTOll# &
.ll& '
	IWSPortalll' 0
.ll0 1
SettingsCustomerll1 A
.llA B!
CustomerSettingsModelllB W
>llW X
ResllY \
=ll] ^
newll_ b
SPQueryResultllc p
<llp q
CRMLeadObjectsllq 
.	ll Ä
DTO
llÄ É
.
llÉ Ñ
	IWSPortal
llÑ ç
.
llç é
SettingsCustomer
llé û
.
llû ü#
CustomerSettingsModel
llü ¥
>
ll¥ µ
(
llµ ∂
)
ll∂ ∑
;
ll∑ ∏
usingmm 
(mm 
SqlConnectionmm 
Conmm 
=mm  
newmm! $
SqlConnectionmm% 2
(mm2 3 
ConfigurationManagermm3 G
.mmG H
ConnectionStringsmmH Y
[mmY Z
$strmmZ e
]mme f
.mmf g
ConnectionStringmmg w
)mmw x
)mmx y
{nn 
Conoo 
.oo 
Openoo 
(oo 
)oo 
;oo 
varqq 

parametersqq 
=qq 
newqq 
DynamicParametersqq .
(qq. /
)qq/ 0
;qq0 1

parametersrr 
.rr 
Addrr 
(rr 
$strrr #
,rr# $
customerByIdrr% 1
)rr1 2
;rr2 3

parametersss 
.ss 
Addss 
(ss 
$strss *
,ss* +
CreateDatatabless, ;
(ss; <
	SettingIdss< E
)ssE F
.ssF G"
AsTableValuedParameterssG ]
(ss] ^
$strss^ u
)ssu v
)ssv w
;ssw x
Resvv 
.vv 
ListResultsvv 
=vv 
Convv 
.vv 
Queryvv #
<vv# $
CRMLeadObjectsvv$ 2
.vv2 3
DTOvv3 6
.vv6 7
	IWSPortalvv7 @
.vv@ A
SettingsCustomervvA Q
.vvQ R!
CustomerSettingsModelvvR g
>vvg h
(ww 
$strww $
,ww$ %
paramxx 
:xx 

parametersxx 
,xx 
commandTypeyy 
:yy 
Systemyy 
.yy  
Datayy  $
.yy$ %
CommandTypeyy% 0
.yy0 1
StoredProcedureyy1 @
)yy@ A
.yyA B
ToListyyB H
(yyH I
)yyI J
;yyJ K
Conzz 
.zz 
Closezz 
(zz 
)zz 
;zz 
}|| 
return}} 
Res}} 
;}} 
}~~ 
public
ÄÄ 

static
ÄÄ 
	DataTable
ÄÄ 
CreateDatatable
ÄÄ +
(
ÄÄ+ ,
string
ÄÄ, 2
data
ÄÄ3 7
)
ÄÄ7 8
{
ÅÅ 
var
ÉÉ 	
dt
ÉÉ
 
=
ÉÉ 
new
ÉÉ 
	DataTable
ÉÉ 
(
ÉÉ 
)
ÉÉ 
;
ÉÉ 
dt
ÑÑ 
.
ÑÑ 	
Columns
ÑÑ	 
.
ÑÑ 
Add
ÑÑ 
(
ÑÑ 
$str
ÑÑ  
,
ÑÑ  !
typeof
ÑÑ" (
(
ÑÑ( )
string
ÑÑ) /
)
ÑÑ/ 0
)
ÑÑ0 1
;
ÑÑ1 2
if
ÜÜ 
(
ÜÜ	 

data
ÜÜ
 
.
ÜÜ 
Equals
ÜÜ 
(
ÜÜ 
$str
ÜÜ 
)
ÜÜ 
)
ÜÜ 
return
áá 
dt
áá 
;
áá 
var
ââ 	
items
ââ
 
=
ââ 
data
ââ 
.
ââ 
Split
ââ 
(
ââ 
$char
ââ  
)
ââ  !
;
ââ! "
foreach
ää 
(
ää 
var
ää 
item
ää 
in
ää 
items
ää  
)
ää  !
{
ãã 
dt
åå 

.
åå
 
Rows
åå 
.
åå 
Add
åå 
(
åå 
item
åå 
)
åå 
;
åå 
}
çç 
return
éé 
dt
éé 
;
éé 
}
èè 
}
íí 
}ìì ◊
:C:\Users\jaria304\source\repos\CRMLeadForm\DAL\TraxUser.cs
	namespace 	
DAL
 
{ 
public 

class 
TraxUser 
{ 
}66 
}88 £
ZC:\Users\jaria304\source\repos\CRMLeadForm\DAL\WebServiceSettings\WebServiceSettingsDAL.cs
	namespace 	
DAL
 
. 
WebServiceSettings  
{ 
public 
static	 
class !
WebServiceSettingsDAL +
{ 
public 

static 
List 
< !
WebServiceSettingsDTO ,
>, -!
GetWebServiceSettings. C
(C D
stringD J
IdServiceSettingsK \
)\ ]
{ 
using 
( 
SqlConnection 
Con 
=  
new! $
SqlConnection% 2
(2 3 
ConfigurationManager3 G
.G H
ConnectionStringsH Y
[Y Z
$strZ e
]e f
.f g
ConnectionStringg w
)w x
)x y
{ 
Con 
. 
Open 
( 
) 
; 
List 
< !
WebServiceSettingsDTO "
>" #
Res$ '
=( )
new* -
List. 2
<2 3!
WebServiceSettingsDTO3 H
>H I
(I J
)J K
;K L
var 

parameters 
= 
new 
DynamicParameters .
(. /
)/ 0
;0 1

parameters 
. 
Add 
( 
$str *
,* +
IdServiceSettings, =
)= >
;> ?
Res 
= 
Con 
. 
Query 
< !
WebServiceSettingsDTO -
>- .
( 
$str &
,& '
param 
: 

parameters 
, 
commandType 
: 
System 
.  
Data  $
.$ %
CommandType% 0
.0 1
StoredProcedure1 @
)@ A
.A B
ToListB H
(H I
)I J
;J K
Con 
. 
Close 
( 
) 
; 
return 
Res 
; 
} 
} 
}   
}!! 